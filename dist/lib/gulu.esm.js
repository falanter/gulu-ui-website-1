import{openBlock as e,createBlock as l,Fragment as t,createVNode as n,toDisplayString as o,computed as s,createCommentVNode as a,renderSlot as u,ref as i,onMounted as c,watchEffect as d,renderList as r,resolveDynamicComponent as v,resolveComponent as p,Teleport as g,withCtx as f,createTextVNode as b,createApp as y,h as k}from"vue";var m={props:{value:Boolean,disabled:{type:Boolean,default:!1}},setup:(e,l)=>({toggle:()=>{l.emit("update:value",!e.value)}})};const C=n("div",null,"switch",-1),h=n("span",null,null,-1);m.render=function(s,a,u,i,c,d){return e(),l(t,null,[C,n("button",{class:["gulu-switch",{"gulu-checked":u.value}],onClick:a[1]||(a[1]=(...e)=>i.toggle(...e)),disabled:u.disabled},[h],10,["disabled"]),n("div",null,o(u.value),1)],64)},m.__file="src/lib/Switch.vue";var B={props:{theme:{type:String,default:"button"},size:{type:String,default:"normal"},level:{type:String,default:"normal"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){const{theme:l,size:t,level:n}=e;return{classes:s((()=>({[`gulu-theme-${l}`]:l,[`gulu-size-${t}`]:t,[`gulu-level-${n}`]:n})))}}};const _={key:0,class:"gulu-loadingIndicator"};B.render=function(t,n,o,s,i,c){return e(),l("button",{class:["gulu-button",s.classes],disabled:o.disabled},[o.loading?(e(),l("span",_)):a("v-if",!0),u(t.$slots,"default")],10,["disabled"])},B.__file="src/lib/Button.vue";const w={render:function(t,n){return e(),l("div",null,[u(t.$slots,"default")])},__file:"src/lib/Tab.vue"};var O={props:{selected:{type:String}},setup(e,l){const t=i(null),n=i(null),o=i(null);c((()=>{d((()=>{const{width:e}=t.value.getBoundingClientRect();n.value.style.width=e+"px";const{left:l}=o.value.getBoundingClientRect(),{left:s}=t.value.getBoundingClientRect(),a=s-l;n.value.style.left=a+"px"}))}));const a=l.slots.default();console.log(a),console.log(a[0].type===w),a.forEach((e=>{if(e.type!==w)throw new Error("Tabs子标签必须是Tab")}));const u=a.map((e=>e.props.title));return{current:s((()=>a.find((l=>l.props.title===e.selected)))),defaults:a,titles:u,select:e=>{l.emit("update:selected",e)},selectedItem:t,indicator:n,container:o}}};const S={class:"gulu-tabs"},$={class:"gulu-tabs-nav",ref:"container"},T={class:"gulu-tabs-nav-indicator",ref:"indicator"},x={class:"gulu-tabs-content"};O.render=function(s,a,u,i,c,d){return e(),l("div",S,[n("div",$,[(e(!0),l(t,null,r(i.titles,((t,n)=>(e(),l("div",{class:["gulu-tabs-nav-item",{selected:t==u.selected}],ref:e=>{t==u.selected&&(i.selectedItem=e)},onClick:e=>i.select(t),key:n},o(t),11,["onClick"])))),128)),n("div",T,null,512)],512),n("div",x,[(e(),l(v(i.current),{key:i.current.props.title}))])])},O.__file="src/lib/Tabs.vue";var z={props:{title:{type:String,default:"提示"},visible:{type:Boolean,default:!1},closeOnClickOverlay:{type:Boolean,default:!0},ok:{type:Function},cancel:{type:Function}},components:{Button:B},setup(e,l){const t=()=>{l.emit("update:visible",!1)};return{close:t,onClickOverlay:()=>{e.closeOnClickOverlay&&t()},ok:()=>{var l;0!=(null==(l=e.ok)?void 0:l.call(e))&&t()},cancel:()=>{var l;null==(l=e.cancel)||l.call(e),t()}}}};const E={class:"gulu-dialog-wrapper"},I={class:"gulu-dialog"},R=b("OK"),D=b("Cancel");z.render=function(t,o,s,i,c,d){const r=p("Button");return s.visible?(e(),l(g,{key:0,to:"body"},[n("div",{class:"gulu-dialog-overlay",onClick:o[1]||(o[1]=(...e)=>i.onClickOverlay(...e))}),n("div",E,[n("div",I,[n("header",null,[u(t.$slots,"title"),n("span",{class:"gulu-dialog-close",onClick:o[2]||(o[2]=(...e)=>i.close(...e))})]),n("main",null,[u(t.$slots,"content")]),n("footer",null,[n(r,{onClick:i.ok},{default:f((()=>[R])),_:1},8,["onClick"]),n(r,{onClick:i.cancel},{default:f((()=>[D])),_:1},8,["onClick"])])])])])):a("v-if",!0)},z.__file="src/lib/Dialog.vue";const F=e=>{const{title:l,content:t,ok:n,cancel:o}=e,s=document.createElement("div");document.body.appendChild(s);const a=y({render:()=>k(z,{visible:!0,"onUpdate:visible":e=>{!1===e&&(a.unmount(s),s.remove())},ok:n,cancel:o},{title:l,content:t})});a.mount(s)};export{B as Button,z as Dialog,m as Switch,w as Tab,O as Tabs,F as openDialog};
